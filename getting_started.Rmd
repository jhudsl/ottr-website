---
title: "Getting started"
output:
  html_document:
    toc: true
    toc_float: true
---

## Prerequisites for using OTTR

First please take a look at our [code of conduct](https://github.com/jhudsl/OTTR_Template/blob/main/code_of_conduct.md) if you wish to contribute to OTTR.

OTTR relies on R Markdown and GitHub actions. You do not need to be an expert about either R Markdown or GitHub to get started using OTTR, as we will guide you through the process! However, we recommend reading up a bit about both to better understand how they work in general before diving in to our guide. These readings only take a few minutes.

Please check out these resources if you are not familiar with R Markdown:

- If you aren't familiar with **markdown** [this is a nice introduction](https://www.markdownguide.org/getting-started/).  

- For information on **R Markdown** (a variation of a markdown file that we use here): [RStudio has their lessons here](https://rmarkdown.rstudio.com/lesson-1.html).

If you are not familiar with **Git and GitHub**, we recommend going through these chapters from our Reproducibility courses for a quick orientation:

  - [Why GitHub](https://jhudatascience.org/Reproducibility_in_Cancer_Informatics/making-your-project-open-source-with-github.html)
  - [Using GitHub](https://jhudatascience.org/Adv_Reproducibility_in_Cancer_Informatics/using-version-control-with-github.html)


We have two recommended ways of writing content based on your comfort and interest level in using Git and GitHub:

- [OTTR Entry Level](https://www.ottrproject.org/writing_content.html#ottr-entry-level) - if you do not have interest in diving into GitHub, use this version. It is done completely through the GitHub web browser.
- [OTTR Advanced](https://www.ottrproject.org/writing_content.html#ottr-advanced) - If you are already familiar with Git and GitHub or are interested in starting to use it, we recommend this method. It will require a bit more learning, but Git and GitHub will be a great skill set for you to utilize; both for OTTR purposes and elsewhere for version control!

If you choose to use our OTTR Advanced guidance, you will need a method for working with git.

If you do not have a method of working with Git already it is recommended you use a Git client to help you manage your branches more easily. Install [GitKraken](https://www.gitkraken.com/) for a handy way to manage your course locally.

***

## Starting a new OTTR course

### 1. Create a repository from this template

In the upper right of the [landing page for this repository](https://github.com/jhudsl/OTTR_Template/tree/1.8), click the green `Use this template` button and follow the steps to set up your course's GitHub repository.

\*If you want to use OTTR Website or a different spin off go to that respective repository:  

- [OTTR Website](https://github.com/jhudsl/OTTR_Template_Website)

![Where is the `Use this template` button?](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/template_button.png)

### 2. Name your repository and fill in a short description

![Creating new course repository](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/creating_new_course_repo.png)

### 3.  Make sure your course is set to `public` for all GitHub actions to work

In particular, the rendered preview on pull requests won't work, but you can alternatively preview the content by re-rendering locally if you want to keep your course private. We will cover this later.

### 4. Click the `Create repository from template button`

Now you are ready to create your repository. Upon creating your repository, issues for getting your course started will be automatically filed in your repository. Go to `Issues` and you can follow them along to get set up.


### 5. Add jhudsl-robot as a collaborator

\*You can skip this step if your course is in the `jhudsl` organization.

The [GitHub actions](https://github.com/jhudsl/OTTR_Template/wiki/How-to-set-up-and-customize-GitHub-actions-robots) in this repository need permissions to fully function.
To this end, you need to add the `jhudsl-robot` as a collaborator on your repository with write permissions.

In your repository, go to your `Settings` > `Collaborators & Teams` and click on `Add people`.
In the pop up window, search for and add `jhudsl-robot`.

<img src="https://github.com/jhudsl/OTTR_Template/raw/main/resources/screenshots/add-jhudsl-robot.png" width = 400>

Choose the `write` option then click `Add jhudsl-robot to this repository`.

### 6. In personal repositories: check your settings

If you have a personal repository, or a organization that hasn't used Github Actions before, you'll also need to check that workflow actions have been enabled.

Go to the `Settings` and then `Actions` Make sure that you've:
1. Given `read and write permissions` and ...
2. have also checked `Allow GitHub Actions to create and approve pull requests`.

Then click `Save`

<img src="https://github.com/jhudsl/ottr-website/raw/main/resources/images/workflow-permissions.png" width = 500>


### 7. Set up your GitHub personal access token

The OTTR robots need permissions to run some of the actions.

To give them permission for all the actions, you need to set a GitHub secret we will call `GH_PAT`. Go to `Settings` > `Secrets and variables` on the left side menu > `Actions`. On this page, scroll down to `Repository secrets`. [Read more about GitHub secrets here](https://docs.github.com/en/actions/security-guides/encrypted-secrets) if you have general questions.

If you have organization admin privileges and plan on making multiple courses with OTTR, you can set `GH_PAT` as an organization secret so you don't have to do this again. You only need to do this once as an organization (if this course is under `jhudsl` you don't need to do this step).

- Click `New repository secret`/`New organization secret` button.
- Under `Name` you must use `GH_PAT`.
- For `Secret`: Create a personal access token [following these instructions](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token#creating-a-token).
- Underneath `Select scopes`, check both `repo` and `workflow`.
- Then copy the PAT and save as the secret.

Your GitHub actions should all be able to run smoothly now.

### 8. Set up GitHub pages

In your repository, go to `Settings` > `Pages`.

![Change pages settings](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/change_pages_settings.png)

- Under `Source`, pick the drop down menu and pick `main` and `/docs`.  
- Then click `Save`.  
- Lastly, check the box that says `Enforce HTTPS` at the bottom of this page.   

![Enforce HTTPS](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/change_https.png)

The URL for your material will be your `main github pages url` +  `/` + `your OTTR repository name` and it will be displayed underneath your `Settings` > `Pages` if you aren't sure.

By default, Github pages is sent to a url that looks like `username.github.io` where `username` is either your individual user name or your organization's name. However, you can set your GitHub pages URL to be custom (like we have in this example here - `jhudatascience.org`). So it is likely your pages URL is something like `username.github.io/your_ottr_repository_name`.

For more information about GitHub pages we recommend you reference the [GitHub documentation here](https://docs.github.com/en/pages/quickstart).

\* **Warning**: if you go to your pages url right now (before you've pushed any file changes) you might see a 404 error because nothing has been triggered to be rendered. You can check your url pages after you file your first pull request (which we will guide you through [in the next section](https://github.com/jhudsl/OTTR_Template/wiki/Start-editing-your-course)).

### 9. Set up branch rules

\* Don't set these settings right away! Wait a few minutes after starting your repository.

Go to `Settings` > `Branches` and click `Add rule`. This is only possible if you have GitHub Pro, Team, or Enterprise access. We recommend seeing if your organization can give you access if you do not already have access. To get this access through your organization, you will need to transfer ownership of your repo to your organization. See [here](https://docs.github.com/en/repositories/creating-and-managing-repositories/transferring-a-repository) about how to do this.

![Add branch rule](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/branches.png)

For `Branch name pattern`, put `main`.

![Put main for branch name pattern](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/main.png)

_Protect the main branch_:  
Then check the box that says `Require pull requests before merging`.

\* Note that if the user whose personal access token does not have admin privileges for step `6. Set up your GitHub personal access token`, then you will need to skip this setting.

_Make sure branches are updated_:  
- Check the box that says `Require status checks to pass before merging`.
- Underneath this also check the box that says `Require branches to be up to date before merging`.

![Branch settings](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/branch_settings.png)

After setting up these new branch items, click `Create` and `Save changes`.

### 10. Enroll your repository for OTTR updates

This original course template: https://github.com/jhudsl/OTTR_Template is always a work in progress.
We are working on adding more features and smoothing out bugs as we go. This is also why [your feedback is greatly appreciated](https://github.com/jhudsl/OTTR_Template/issues/new/choose).

When updates are made to files that aren't specific to the course content but instead run checks and other processes in the original repository, pull requests are filed automatically to any downstream repositories made from this template.

**To enroll in these automatic update pull requests, the new course's repository name will need to be added to [this file in the original template](https://github.com/jhudsl/OTTR_Template/edit/main/.github/sync.yml)**

- Got to the respective file: `.github/sync.yml` of the OTTR template repository you created your repository from:
    - [This file for the main OTTR_Template updates](https://github.com/jhudsl/OTTR_Template/blob/main/.github/sync.yml)
    - [This file for the OTTR_Quizzes updates](https://github.com/jhudsl/OTTR_Quizzes/blob/main/.github/sync.yml)
- Add your repository's name where it says `#NEW REPO HERE#`, being careful to indent the same amount as the other repositories listed.
![](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/edit-sync.yml.png)
- Choose `Create a new branch for this commit and start a pull request.` Name the branch what you like.
![](https://raw.githubusercontent.com/jhudsl/OTTR_Template/main/resources/screenshots/add-repo-sync.png)
- Name the commit `Add new repository to sync`
- Click `Propose changes`.
- [See this guide](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork) for any questions you have about creating a pull request from your forked repository.
- Write a short pull request description describing that you are adding a new repository to the sync.yml file.
- Click `Create Pull Request`
- Request `@cansavvy` as a reviewer.

If your new course doesn't need some of the functionality of these files or you find the automatic updates bothersome, you can feel free to use [this guide](https://github.com/marketplace/actions/repo-file-sync-action#sync-the-same-files-to-multiple-repositories) to tailor which files you want updates for.
_If you have any questions about the implications of any of these updates or files, please tag `@cansavvy`._


### Methods of writing content

Again we have two recommended ways of writing content based on your comfort and interest level in using Git and GitHub:

[Jump to OTTR Entry Level instructions here](./writing_content.html#ottr-entry-level)
[Jump to OTTR Advanced instructions here](./writing_content.html#ottr-advanced)

Now you are ready to start writing content!
